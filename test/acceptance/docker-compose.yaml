services:
  wdio-cucumber:
    build: .
    image: wdio-cucumber
    depends_on:
      - selenium
    volumes:
      - ./features/:/home/node/features/
      - ./pages/:/home/nodes/pages/
      - ./steps/:/home/node/steps/
      - ./html-reports/:/home/node/html-reports/
      - ./package.json:/home/node/package.json
    ports:
      - "9228:9229"
    environment:
      TEST_ENVIRONMENT_ROOT_URL: https://ffc-grants-frontend-test.azure.defra.cloud

  selenium:
    image: selenium/standalone-chrome
    container_name: chrome-browser
    volumes:
      - /dev/shm:/dev/shm
